# 데이터가 보인다(8 - 9)

<div style="text-align: right"><b>작 성 일 : 20.03.20.</b></div>
<div style="text-align: right"><b>작 성 자 : 도 원 진 &nbsp&nbsp</b></div>

## 8. 비즈니스 인테리전스

### 8.1 BI 와 PDCA 사이클

#### 8.1.1 BI (Business Intelligence)

- **데이터를 이용해 기업의 의사결정에 활용하는 방법**

  - PDCA 사이클의 과정 속에서 정보 발생

  - 정보를 유용한 데이터로 분석 및 가공

  - PDCA 사이클 과정속에서 발생하기도, PDCA을 진행하는데 있어 기본 토대가 되기도 함


#### 8.1.2 PDCA 싸이클

<img src="https://data.ac-illust.com/data/thumbnails/79/79356d92aceb5b159966913d7cf814c3_t.jpeg" alt="pdca 사이클 이미지 검색결과" style="zoom:50%;" />

- 기업 업무 프로세스의 한 종류. **"계획하고 실행하고 점검하고 보안하고"**

- 두 가지 입장에서 프로세스를 진행

  - **경영층 입장(Top-Down)**

    - 사측 손익 구조, 시장상황, 인사, 설비, 투자계획등을 토대로 예산 편성

    | <center>PDCA</center> | <center>내용</center>                     | <center>비고</center> |
    | --------------------- | ----------------------------------------- | --------------------- |
    | PLAN(계획)            | 경영 전략/계획 수립                       | 예산 편성 안에서 수행 |
    | DO(실행)              | 사업 부문의 계획 실행                     | 중요 업적 지표        |
    | CHECK(점검)           | 모니터링, 문제 색출, 평가<br>분석 및 검증 |                       |
    | ACT(개선)             | 문제점 수정, 개선 , 대처                  |                       |

  - **현장층 입장(Bottom-Up)**

    - 각 부문/ 담당자 단위에서 필요한 매출, 경비, 개별계획을 토대로 예산편성

    | <center>PDCA</center> | <center>내용</center> | <center>비고</center> |
  | --------------------- | --------------------- | --------------------- |
    | PLAN(계획)            | 부문별 계획 수립      | 예산 편성 안에서 수행 |
    | DO(실행)              | 부문에서 업무 실행    |                       |
    | CHECK(점검)           | 일별 모니터링         |                       |
    | ACT(개선)             | 경영층으로 보고, 수정 |                       |

---

### 8.2 PDCA 단계의 BI

#### 8.2.1 PLAN

- **계획값 작성**

  - DO, CHECK 단계에서 데이터 분석의 기준값으로 활용
  - 예산편성 중 실시
  - 과거 실적 분석, 현재 예산값 작성의 근거로 이용
  - 비용 산출 = 예측 매출 -  필요 이익
  - Bottom-Up 데이터 수집 및 시뮬레이션
  - Top-Down과 Bottom-Up 데이터 비교

  - 예산 편성 

- **예산편성 Process**
  - **Top-down 실시**
    - 목표 이익 확정 -> 거시적 관점의 매출예측 -> 경비산출
    - 큰 틀의 목표이며 구체적이지 않음(전망의 의미)
    - (변동하는 비용 + 고정 비용) 을 구별하여 산출함
    - 복수패턴 시나리오 준비(BEST, WORST)
  - **Bottom-Up 실시**
    - 담당 부문 / 담당자가 필요한 매출, 비용 산출
    - 매출 예측, 수요예측은 직접적으로 연결
    - 수요예측, 고객별 / 제품별로 수요예측을 분석

#### 8.2.2 DO

- **문제의 조짐을 발견**
  - 기업의 활동이력 축척, 동향을 모니터링
  - **데이터 분석** 시행
  - 목표값에 도달하는지 모니터링
  - **빠른 문제점 분석** 및 **계획 수정**을 가능케함
- **리포트 작성**
  - 데이터 시각화를 통해 통계데이터 산출
  - 전체를 부감하는 그래프
  - 비정상 값, 이슈를 쉽게 보이도록
  - 다양한 관점으로 볼 수 있는 그래프 배치
- **3개의 분야별 DO (분석) 프레임워크** 

| <center>유형</center> | <center>특징</center>                                        | <center>비고</center>                                        |
| --------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 판매                  | 1. 시간순 그래프<br>2 그래프의 개형파악에 중점<br>3. 예상값, 실적값 비교기능이 있는 그래프제공<br>4. 시간 뿐만 아니라, 해당 시간에 발생한 품목별 / 고객별 분석 그래프 제공 |                                                              |
| 회계                  | 이익관리를 위해 비용분석을 해야함.<br>1.**총이익이 낮다고 판단되면)**<br>  - 낮은 판매단가 높은 원가<br>2.**영업이익이 적다면)**<br>  - 과다한 경비사용 | **수익성 평가 segment**   :  <br>시장, 제품, 고객 <br>**비용평가 segment** : <br>영업, 개발, 생산 |
| 재고                  | 1. **재고부족)**<br>  - 기회손실, 신용실추로 직결 및 매출저하<br>2.**재고과잉)**<br>  - 재고비용 증대, 현금흐름 효율저하 | **'재고 최적화'**가 주요 과제                                |

#### 8.2.3 CHECK

- 문제의 요인을 검증함.
- 다차원 분석 축을 이용해 과점을 바꿔가며 이슈를 분석
- 문제상황에 대해 DO단계보다 심층적으로 파고들어감.
- 단계
  - **결과평가 --> 요인분석 --> 요인검증**
    - **결과 평가**
      - 총체적인 실적을 PLAN의 계획값과 비교/평가 실시
      - 적절한 요소로 분리하여 또 한번 비교 평가
    - **요인 분석**
      - 왜 결과가 그렇게 나왔는가 원인을 찾는일
      - 다차원의 분석축 도입(다양한 관점)
    - **요인 검증**
      - 분석축을 교체해 가며 분석
      - 담당자 / 고객 / 상품 중에서 요인을 검증하기

#### 8.2.4 ACT

- CHECK단계의 차트 분석 보다 더 면밀한 데이터를 기반으로 해결방안 모색

- 분석자의 기준이 중요한 판단 요소가 됨

- 따라서, 분석자의 역량이 중요

- DataMining을 통해 미지의 관계, 경향 도출

  

**마케팅에서 ACT활용**

1. **마케팅 전략/목표설정(STP)**

   <img src="https://lh3.googleusercontent.com/proxy/1Qn32jc1LWZ0tOd6zABGGidhmjzwIEtDx6ym-VHUnuMdg8uU8WogsRe4HyyCumE5oGQ0dSWqTeOhUUlNQt73tkREGR_Zu4bUPXhCcuPi9fM_2GtSgAdBMgEpFnznx-momtjQv-QH-VuMN-nLM44_v1C-AKC_lGtYh7poM7K7mzw_-h4bjT64iYwVwe_Uj81i9rYNOmrAp33VCfFNXVH75OVkyfK9qFFxhOuOIACx12qjXa75kbiKK3_-hxZwGSjro-XMPxb9Y9NSFHpclMKnO7j43NVyHPFV7dY" alt="세그멘테이션 타겟팅 이미지 검색결과" style="zoom: 80%;" />

2. **STP**

   - **소비집단구분(Segmentation)  /  타겟팅(Targeting)**
      - 전략적 판매 대상 선정
    - **포지셔닝 진행(Positioning)**
       - 비교 우위 선점



#### [참고] '포지셔닝' 을 위한 구체적인 방법

- 무엇을
- 어떤 가격에
- 뭐를 통해
- 어떻게 알릴까

1. **고객은 무엇을 필요로 하는가?**
   - 연령별 / 성별 / 취미 별 속성으로 앙케이트 조사
   - 그러나, 더 다양한 방법으로 조사해야함
   - 소비자의 요구 사항은 점점 복잡화되고 있음.
2. **얼마에 팔아야 살까?**
   - 구매자의 적정 가격 감각을 바탕
   - 판매 데이터를 기반으로 **판매 단가 - 매출수** 관계를 찾기(회귀분석 이용)
3. **유통망 선택**
   - 제조사 채널 - 대리점, 직영점, 인터넷
   - 도매업 채널 - 약국, 편의점, 슈퍼,백화점, 양판점
   - 점포 판매 채널 - 도심, 교외판매
   - 유통망 선택은 제고효율성 증대에 기여 가능
4. **판매촉진**
   - 비용대비 효과가 가장 중요
   - 광고 매체별 수익 - 비용 데이터 분석
   - 캠패인의 경우 광고매출에 얼마나 기여를 하는지 파악 어려움(규모의 한계)





##  9. 데이터 웨어하우스

> 업무 애플리케이션에서 발생하는 데이터를 저장하는 저장매체

### 9.1데이터 웨어하우스 저장및 이용순서

[ 업무 어플리케이션 ----> **DSA(ETL)** ---> 센트럴 웨어하우스 ---> **데이터 마트** ----> 비즈니스 인텔리전스 ]

<img src="https://lh3.googleusercontent.com/proxy/3V6uV5O9eOx7_3bqo9fRAj6W_FSU6rudpifhSzpfvNXyypawl-C5SXddC1A2IbctCb6hH4GN57mqZtMCz8ozvyBcRNU4NfKrO-heXIoQAKQx5Xu6Cw" alt="데이터 웨어하우스 이미지 검색결과" style="zoom:80%;" />

- **DSA**
  -  ETL(Extract, Transform, Load)하는 곳
  - 센트럴하우스에 저장할 데이터를 Staging하는 곳
- **데이터 마트**
  - 센트럴 웨어하우스에 접근을 최소화하는 방법
  -  BI툴에 맞는 최적의 DB구성
  - 클라이언트 어플리케이션인 BI툴에서 접근

#### 9.1.1 DSA정리

| <center>과정</center> | <center>특징</center>                                        | <center>비고</center> |
| :-------------------: | ------------------------------------------------------------ | --------------------- |
|       추출 처리       | 수신 파일로 저장<br>**기간계)<br>** - 추출 프로그램을 통해 파일 전송<br>**오픈계열DB)**<br> - 반대로 웨어하우스가 SQL로 row정보를 가져옴. |                       |
|       1차 정리        | 비정상 데이터 처리<br>예) 문자 코드 변환, 취소레코드 삭제, 트랜잭션 취소 |                       |
|       변환 처리       | 웨어하우스에 로드 가능한 파일로 변환                         | 아래 설명 참고        |
|       로드 처리       | 파일로 변환된 정보를 DB에 저장. 1레코드씩이 아닌 일관적으로 INSERT |                       |

- 변환처리
  - **단순변환**
    - 날짜 형식 ---> 문자열 
    - Null, 공백 ---> 0
  - **클렌징**
    - 부적합 데이터 삭제
  - **통합화**
    - 복수의 테이블에 저장된 데이터를 하나의 테이블에 통합
    - 테이블 수 절약
  - **집계**
    - 데이터 입도(집계 단위) 에 따라 집계

---

### 9.2. 데이터베이스의 구조

#### 9.2.1 스타스키마

★별모양의 데이터베이스 구조/ 특징 

<img src="https://4.bp.blogspot.com/-KBKFRUbshO8/T8dwvz1V4vI/AAAAAAAAJ-M/xq2D1d0e-xk/s1600/%EC%82%AC%EC%9A%A9%EC%9E%90+%EC%A7%80%EC%A0%95+9.gif" alt="스타스키마 이미지 검색결과" style="zoom:50%;" />

- **별의 중심** (**사실테이블**)
  - PK키가 되는 키값 
  - 예) 시간, 고객, 부서, 매출 수량, 매출금액
- **별모양 가장자리** (**차원테이블**)
  - 각 키값들의 속성
  - 예)
    - 시간(일 / 월/ 사분기 / 반기)
    - 고객 테이블(고객 코드/고객명/주소)
    - 부서 테이블(부서 코드/ 부서명)

- **장점**
  - 빠른 검색속도 
  - 중복 저장 최적화

#### 9.2.2 써로게이트 키 - RDBMS 문제점 개선

**업무 시스템의 코드만을 검색키로 사용했을 때, 문제점 발생** 예) 한 부서에서 하위 부서 1, 2 분할

- dummy number도입. 
- 고유키가 있음에도 **'아무의미 없는 값'**을 가진 써로게이트 키 도입
- 부서가 분할되어 2개 부서가 되도 다른 테이블에서 FK 참조 가능

---

### 9.3. 다차원 데이터베이스

OLAP 툴의 기반이 되는 데이터베이스 (데이터마트 Layer)

![다차원데이터베이스 이미지 검색결과](https://lh3.googleusercontent.com/proxy/kcRE5VTledlV7whySEnB9k9tDjH9_BgdMCTp14B8hwklzybj27n0DRlkUe_8oUWRV_FWO0CnbLBnNdUjlQQGa5RW6sTktwY_W6qwllBjzuom3_qW5DTRalO5PtXKge44k1JK5A0vImdGH8zIsh-b3voIIdFBdsFPggRbSZu7RuZNNiKqNJb-Ko6aFYDKRdf2GTlqRgQ)

- **강점**

  - 빠르고 간단한 크로스 집계
  - 육면체중 한 단면을 선택해 데이터마트로서 기능할 수 있음.

- **크로스집계란?**

  - 2가지 항목에 대해 특정수치(SUM, MUL, SUB, DIV)를 집계해서 그 결과 보여줄 때,

    한 항목은 row에, 다른 한 항목은 column에 배치하여 표를 보여주는 처리

  - 관계형 데이터베이스의 취약점을 개선

- 방대한 양의 SQL문 작성을 요구함.

- 방대한 수의 크로스 집계 표를 3차원 주사위같은 이미지로 테이블 저장

- SQL없이 OLAP 툴, 플래닝 툴을 통해 사용

  - 검색 기준 3가지
    - 다이스(행, 열)
    - 슬라이스(데이터 범위)
    - 드릴(집계단위)













